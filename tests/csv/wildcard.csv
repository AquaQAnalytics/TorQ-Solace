comment,0,0,q,,1,,
run,0,0,q,d:(`user`password`host`port`loglvl)!(`admin;`admin;cmdl[`testhost];55555;2),1,,
comment,0,0,q,,1,,
run,0,0,q,stop `SOL_1,1,,
run,0,0,q,stop `SOL_2,1,,
run,0,0,q,start[cmdl[`bport]+1;`SOL_1],1,,
run,0,0,q,start[cmdl[`bport]+2;`SOL_2],1,,
run,0,0,q,send[(`SOL_1);(`.solace.init;d)],1,,
run,0,0,q,send[(`SOL_2);(`.solace.init;d)],1,,
run,0,0,q,send[(`SOL_1);(`.solace.subscribe;"Default/*")],1,,
run,0,0,q,send[(`SOL_2);(`.solace.publish;"Default/test1";til 3)],1,,
run,0,0,q,sleep[1000],1,,
true,0,0,q, 0=getfield[raze send[(`SOL_1);(`.l.l)];1],1,,
true,0,0,q,(`$"Default/test1")=getfield[raze send[(`SOL_1);(`.l.l)];2],1,,
true,0,0,q,(til 3)~getfield[raze send[(`SOL_1);(`.l.l)];6],1,,
run,0,0,q,send[(`SOL_2);(`.solace.publish;"Default/test2";til 4)],1,,
run,0,0,q,sleep[1000],1,,
true,0,0,q, 1=getfield[raze send[(`SOL_1);(`.l.l)];1],1,,
true,0,0,q,(`$"Default/test2")=getfield[raze send[(`SOL_1);(`.l.l)];2],1,,
true,0,0,q,(til 4)~getfield[raze send[(`SOL_1);(`.l.l)];6],1,,
run,0,0,q,stop `SOL_1,1,,
run,0,0,q,stop `SOL_2,1,,
run,0,0,q,start[cmdl[`bport]+1;`SOL_1],1,,
run,0,0,q,start[cmdl[`bport]+2;`SOL_2],1,,
run,0,0,q,send[(`SOL_1);(`.solace.init;d)],1,,
run,0,0,q,send[(`SOL_2);(`.solace.init;d)],1,,
run,0,0,q,send[(`SOL_1);(`.solace.subscribe;"Default/*/level2/*")],1,,
run,0,0,q,send[(`SOL_2);(`.solace.publish;"Default/first1/level2/first3";til 5)],1,,
run,0,0,q,sleep[1000],1,,
true,0,0,q,(`$"Default/first1/level2/first3")=getfield[raze send[(`SOL_1);(`.l.l)];2],1,,
true,0,0,q,(til 5)~getfield[raze send[(`SOL_1);(`.l.l)];6],1,,
run,0,0,q,send[(`SOL_2);(`.solace.publish;"Default/second1/level2/second3";til 6)],1,,
run,0,0,q,sleep[1000],1,,
true,0,0,q,(`$"Default/second1/level2/second3")=getfield[raze send[(`SOL_1);(`.l.l)];2],1,,
true,0,0,q,(til 6)~getfield[raze send[(`SOL_1);(`.l.l)];6],1,,
run,0,0,q,stop `SOL_1,1,,
run,0,0,q,stop `SOL_2,1,,
run,0,0,q,start[cmdl[`bport]+1;`SOL_1],1,,
run,0,0,q,start[cmdl[`bport]+2;`SOL_2],1,,
run,0,0,q,send[(`SOL_1);(`.solace.init;d)],1,,
run,0,0,q,send[(`SOL_2);(`.solace.init;d)],1,,
run,0,0,q,send[(`SOL_1);(`.solace.subscribe;"Default/>")],1,,
run,0,0,q,send[(`SOL_2);(`.solace.publish;"Default/level1";til 7)],1,,
run,0,0,q,sleep[1000],1,,
true,0,0,q,(`$"Default/level1")=getfield[raze send[(`SOL_1);(`.l.l)];2],1,,
true,0,0,q,(til 7)~getfield[raze send[(`SOL_1);(`.l.l)];6],1,,
run,0,0,q,send[(`SOL_2);(`.solace.publish;"Default/level1/level2";til 8)],1,,
run,0,0,q,sleep[200],1,,
true,0,0,q,(`$"Default/level1/level2")=getfield[raze send[(`SOL_1);(`.l.l)];2],1,,
true,0,0,q,(til 8)~getfield[raze send[(`SOL_1);(`.l.l)];6],1,,
run,0,0,q,send[(`SOL_2);(`.solace.publish;"Default/level1/level2/level3";til 9)],1,,
run,0,0,q,sleep[1000],1,,
true,0,0,q,(`$"Default/level1/level2/level3")=getfield[raze send[(`SOL_1);(`.l.l)];2],1,,
true,0,0,q,(til 9)~getfield[raze send[(`SOL_1);(`.l.l)];6],1,,

